@page "/Admin/MusicManager"
@using JxAudio.Core.Entity
@using Jx.Toolbox.Extensions
@using Microsoft.Extensions.Localization
@inject IStringLocalizer<MusicManager> MusicLocalizer

<AdminTable TItem="TrackEntity">
    <TableColumns>
        <TableColumn @bind-Field="@context.PictureId" Width="50">
            <Template Context="value">
                <Avatar Url="@($"Cover?coverId={value.Value}")"></Avatar>
            </Template>
        </TableColumn>
        <TableColumn @bind-Field="@context.ProviderId" LookupServiceKey="plugin"></TableColumn>
        <TableColumn @bind-Field="@context.FullName"></TableColumn>
        <TableColumn @bind-Field="@context.Title">
            <Template Context="value">
                @if (value.Value.IsNullOrEmpty())
                {
                    @MusicLocalizer["NoTitle"]
                }
                else
                {
                    @value.Value
                }
            </Template>
        </TableColumn>
        <TableColumn @bind-Field="@context.Size">
            <Template Context="value">
                @value.Value.ToSizeString()
            </Template>
        </TableColumn>
        <TableColumn @bind-Field="@context.Duration">
            <Template Context="value">
                @value.Value.ToTimeString()
            </Template>
        </TableColumn>
    </TableColumns>
</AdminTable>

@code {

}